<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>CountElysia API Documentation</title>
		<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
		<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
	</head>
	<body class="bg-gray-50 text-gray-800 font-sans antialiased">
		<div id="app" class="flex min-h-screen">
			<aside class="w-64 bg-white border-r border-gray-200 fixed h-full overflow-y-auto">
				<div class="p-5 border-b border-gray-200">
					<h1 class="text-xl font-bold text-gray-700">CountElysia</h1>
					<p class="text-sm text-gray-500 mt-1">API Reference v1.0.50</p>
				</div>
				<nav class="p-4">
					<div v-for="(section, index) in navSections" :key="index" class="mb-6">
						<h2 class="text-xs uppercase text-gray-400 font-semibold mb-3 tracking-wider">{{ section.title }}</h2>
						<a
							v-for="item in section.items"
							:key="item.href"
							:href="item.href"
							class="nav-item block px-3 py-2 rounded-lg text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition-all duration-200 text-sm"
						>{{ item.text }}</a>
					</div>
				</nav>
				<div class="absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200">
					<a href="/zh" class="flex items-center gap-2 px-3 py-2 rounded-lg text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition-all duration-200 text-sm">
						<span>üåê</span>
						<span>‰∏≠Êñá</span>
					</a>
				</div>
			</aside>

			<main class="flex-1 p-8 h-screen overflow-y-auto ml-64">
				<div class="max-w-5xl mx-auto">
					<section id="introduction" class="bg-white rounded-xl shadow-sm p-8 mb-8">
						<h2 class="text-2xl font-bold text-gray-800 mb-4 pb-4 border-b border-gray-100">Introduction</h2>
						<p class="text-gray-600 mb-6">CountElysia is a high-performance counter service built on Elysia.js, providing simple and reliable counting functionality. This documentation will help you quickly understand and use our API.</p>

						<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
							<div v-for="feature in features" :key="feature.title" class="flex items-start gap-4 p-4 bg-indigo-50 rounded-lg">
								<div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center text-2xl flex-shrink-0">{{ feature.icon }}</div>
								<div>
									<h3 class="font-semibold text-gray-800 mb-1">{{ feature.title }}</h3>
									<p class="text-sm text-gray-500">{{ feature.desc }}</p>
								</div>
							</div>
						</div>
					</section>

					<section id="environment-variables" class="bg-white rounded-xl shadow-sm p-8 mb-8">
						<h2 class="text-2xl font-bold text-gray-800 mb-4 pb-4 border-b border-gray-100">Environment Variables</h2>
						<p class="text-gray-600 mb-6">CountElysia uses environment variables for configuration. Below are all available environment variables and their descriptions.</p>

						<div v-for="(group, groupIndex) in envGroups" :key="groupIndex">
							<h3 class="text-lg font-semibold text-gray-700 mb-4">{{ group.title }}</h3>
							<div class="overflow-x-auto mb-8">
								<table class="w-full text-sm">
									<thead>
										<tr class="border-b border-gray-200">
											<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Variable Name</th>
											<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Default Value</th>
											<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Description</th>
										</tr>
									</thead>
									<tbody>
										<tr v-for="env in group.items" :key="env.name" class="border-b border-gray-100">
											<td class="py-2 px-3 font-mono text-indigo-600">{{ env.name }}</td>
											<td class="py-2 px-3"><span class="px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs font-medium">{{ env.default }}</span></td>
											<td class="py-2 px-3 text-gray-600">{{ env.desc }}</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>

						<div class="p-4 bg-amber-50 border-l-4 border-amber-500 rounded-r">
							<p class="text-amber-700 text-sm">
								<strong>Tip:</strong> Please ensure strong passwords are used in production environments and database access permissions are restricted. The environment variables file (.env) should not be committed to version control systems.
							</p>
						</div>
					</section>

					<section id="base-url" class="bg-white rounded-xl shadow-sm p-8 mb-8">
						<h2 class="text-2xl font-bold text-gray-800 mb-4 pb-4 border-b border-gray-100">Base URL</h2>
						<p class="text-gray-600 mb-4">The base URL for all API requests is as follows:</p>
						<div class="bg-slate-900 rounded-lg overflow-hidden">
							<div class="flex justify-between items-center px-4 py-2 bg-slate-800 border-b border-slate-700">
								<span class="text-gray-400 text-sm">Base URL</span>
								<button class="copy-btn text-gray-400 hover:text-white text-sm cursor-pointer transition-colors" @click="copyCode($event, 'http://localhost:3000/api')">Copy</button>
							</div>
							<div class="p-4 overflow-x-auto">
								<pre class="text-gray-300 text-sm font-mono">http://localhost:3000/api</pre>
							</div>
						</div>
					</section>

					<section v-for="endpoint in endpoints" :key="endpoint.id" :id="endpoint.id" class="bg-white rounded-xl shadow-sm p-8 mb-8">
						<h2 class="text-2xl font-bold text-gray-800 mb-4 pb-4 border-b border-gray-100">{{ endpoint.title }}</h2>
						<p class="text-gray-600 mb-6">{{ endpoint.description }}</p>

						<div class="border border-gray-200 rounded-lg overflow-hidden mb-6">
							<div class="flex items-center gap-3 p-4 bg-gray-50 border-b border-gray-200 cursor-pointer" @click="toggleEndpoint(endpoint.id)">
								<span :class="['px-3 py-1 rounded text-xs font-semibold', endpoint.method === 'GET' ? 'bg-emerald-100 text-emerald-700' : 'bg-indigo-100 text-indigo-700']">{{ endpoint.method }}</span>
								<code class="text-gray-700 text-sm">{{ endpoint.path }}</code>
								<span class="ml-auto text-gray-500 text-sm">{{ endpoint.title }}</span>
							</div>
							<div :class="['endpoint-body p-5', { hidden: !expandedEndpoints[endpoint.id] }]">
								<div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 mb-5 rounded-r">
									<p class="text-gray-600">{{ endpoint.detail }}</p>
								</div>

								<div v-if="endpoint.params && endpoint.params.length">
									<h4 class="text-base font-semibold text-gray-700 mb-3 mt-5">Path Parameters</h4>
									<div class="overflow-x-auto">
										<table class="w-full text-sm">
											<thead>
												<tr class="border-b border-gray-200">
													<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Parameter</th>
													<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Type</th>
													<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Required</th>
													<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Description</th>
												</tr>
											</thead>
											<tbody>
												<tr v-for="param in endpoint.params" :key="param.name" class="border-b border-gray-100">
													<td class="py-2 px-3 font-mono text-indigo-600">{{ param.name }}</td>
													<td class="py-2 px-3"><span class="px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs font-medium">{{ param.type }}</span></td>
													<td class="py-2 px-3"><span :class="['px-2 py-0.5 rounded text-xs font-medium', param.required ? 'bg-red-100 text-red-700' : 'bg-gray-100 text-gray-600']">{{ param.required ? 'Yes' : 'No' }}</span></td>
													<td class="py-2 px-3 text-gray-600">{{ param.desc }}</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>

								<div v-if="endpoint.bodyParams && endpoint.bodyParams.length">
									<h4 class="text-base font-semibold text-gray-700 mb-3 mt-5">Request Body Parameters</h4>
									<div class="overflow-x-auto">
										<table class="w-full text-sm">
											<thead>
												<tr class="border-b border-gray-200">
													<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Parameter</th>
													<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Type</th>
													<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Required</th>
													<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Description</th>
												</tr>
											</thead>
											<tbody>
												<tr v-for="param in endpoint.bodyParams" :key="param.name" class="border-b border-gray-100">
													<td class="py-2 px-3 font-mono text-indigo-600">{{ param.name }}</td>
													<td class="py-2 px-3"><span class="px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs font-medium">{{ param.type }}</span></td>
													<td class="py-2 px-3"><span class="px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs font-medium">Yes</span></td>
													<td class="py-2 px-3 text-gray-600">{{ param.desc }}</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>

								<h4 class="text-base font-semibold text-gray-700 mb-3 mt-5">Request Example</h4>
								<div class="bg-slate-900 rounded-lg overflow-hidden">
									<div class="flex justify-between items-center px-4 py-2 bg-slate-800 border-b border-slate-700">
										<span class="text-gray-400 text-sm">Request</span>
										<button class="copy-btn text-gray-400 hover:text-white text-sm cursor-pointer transition-colors" @click="copyCode($event, endpoint.requestExample)">Copy</button>
									</div>
									<div class="p-4 overflow-x-auto">
										<pre class="text-gray-300 text-sm font-mono">{{ endpoint.requestExample }}</pre>
									</div>
								</div>

								<h4 class="text-base font-semibold text-gray-700 mb-3 mt-5">Response Example</h4>
								<div class="bg-slate-900 rounded-lg overflow-hidden">
									<div class="flex justify-between items-center px-4 py-2 bg-slate-800 border-b border-slate-700">
										<span class="text-gray-400 text-sm">Response (200 OK)</span>
										<button class="copy-btn text-gray-400 hover:text-white text-sm cursor-pointer transition-colors" @click="copyCode($event, endpoint.responseExample)">Copy</button>
									</div>
									<div class="p-4 overflow-x-auto">
										<pre class="text-gray-300 text-sm font-mono">{{ endpoint.responseExample }}</pre>
									</div>
								</div>

								<div class="mt-6 p-5 bg-gray-50 rounded-lg border border-gray-200">
									<h4 class="text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2"><span>‚ö°</span> Try it out</h4>
									<div class="space-y-3">
										<div v-for="input in endpoint.inputs" :key="input.id">
											<label :for="input.id" class="block text-sm text-gray-600 mb-1">{{ input.label }}</label>
											<input
												:type="input.type || 'text'"
												:id="input.id"
												v-model="input.value"
												class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono"
												:placeholder="input.placeholder"
											/>
										</div>
										<button
											@click="executeRequest(endpoint)"
											class="px-5 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors cursor-pointer disabled:opacity-50"
											:disabled="endpoint.loading"
										>
											{{ endpoint.loading ? 'Loading...' : 'Send Request' }}
										</button>
									</div>
									<div v-if="endpoint.response" class="mt-4">
										<span :class="['response-status inline-block px-2 py-1 rounded text-sm font-semibold mb-2', endpoint.response.ok ? 'bg-emerald-100 text-emerald-700' : 'bg-red-100 text-red-700']">
											{{ endpoint.response.status }} {{ endpoint.response.statusText }}
										</span>
										<div class="bg-slate-900 rounded-lg overflow-hidden">
											<div class="flex justify-between items-center px-4 py-2 bg-slate-800 border-b border-slate-700">
												<span class="text-gray-400 text-sm">Response</span>
												<button class="copy-btn text-gray-400 hover:text-white text-sm cursor-pointer transition-colors" @click="copyCode($event, endpoint.response.data)">
													Copy
												</button>
											</div>
											<div class="p-4 overflow-x-auto">
												<pre class="text-gray-300 text-sm font-mono">{{ endpoint.response.data }}</pre>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</section>

					<section id="response-format" class="bg-white rounded-xl shadow-sm p-8 mb-8">
						<h2 class="text-2xl font-bold text-gray-800 mb-4 pb-4 border-b border-gray-100">Response Format</h2>
						<p class="text-gray-600 mb-6">All API responses follow a consistent JSON format. Understanding this format will help you handle responses correctly.</p>

						<h3 class="text-lg font-semibold text-gray-700 mb-4">Success Response</h3>
						<div class="bg-slate-900 rounded-lg overflow-hidden mb-6">
							<div class="flex justify-between items-center px-4 py-2 bg-slate-800 border-b border-slate-700">
								<span class="text-gray-400 text-sm">Response (200 OK)</span>
								<button class="copy-btn text-gray-400 hover:text-white text-sm cursor-pointer transition-colors" @click="copyCode($event, successResponseExample)">Copy</button>
							</div>
							<div class="p-4 overflow-x-auto">
								<pre class="text-gray-300 text-sm font-mono">{{ successResponseExample }}</pre>
							</div>
						</div>

						<h3 class="text-lg font-semibold text-gray-700 mb-4">Response Fields</h3>
						<div class="overflow-x-auto mb-6">
							<table class="w-full text-sm">
								<thead>
									<tr class="border-b border-gray-200">
										<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Field</th>
										<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Type</th>
										<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Description</th>
									</tr>
								</thead>
								<tbody>
									<tr v-for="field in responseFields" :key="field.name" class="border-b border-gray-100">
										<td class="py-2 px-3 font-mono text-indigo-600">{{ field.name }}</td>
										<td class="py-2 px-3"><span class="px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded text-xs font-medium">{{ field.type }}</span></td>
										<td class="py-2 px-3 text-gray-600">{{ field.desc }}</td>
									</tr>
								</tbody>
							</table>
						</div>

						<h3 class="text-lg font-semibold text-gray-700 mb-4">HTTP Status Codes</h3>
						<div class="overflow-x-auto mb-6">
							<table class="w-full text-sm">
								<thead>
									<tr class="border-b border-gray-200">
										<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Status Code</th>
										<th class="text-left py-2 px-3 font-semibold text-gray-600 bg-gray-50">Description</th>
									</tr>
								</thead>
								<tbody>
									<tr v-for="status in statusCodes" :key="status.code" class="border-b border-gray-100">
										<td class="py-2 px-3"><span :class="['px-2 py-0.5 rounded text-xs font-medium', status.colorClass]">{{ status.code }}</span></td>
										<td class="py-2 px-3 text-gray-600">{{ status.desc }}</td>
									</tr>
								</tbody>
							</table>
						</div>

						<h4 class="text-base font-semibold text-gray-700 mb-3 mt-5">Error Response Format</h4>
						<div class="bg-slate-900 rounded-lg overflow-hidden">
							<div class="flex justify-between items-center px-4 py-2 bg-slate-800 border-b border-slate-700">
								<span class="text-gray-400 text-sm">Response (Error)</span>
								<button class="copy-btn text-gray-400 hover:text-white text-sm cursor-pointer transition-colors" @click="copyCode($event, errorResponseExample)">Copy</button>
							</div>
							<div class="p-4 overflow-x-auto">
								<pre class="text-gray-300 text-sm font-mono">{{ errorResponseExample }}</pre>
							</div>
						</div>
					</section>

					<footer class="text-center py-8 text-gray-400 text-sm">
						<p>CountElysia API Documentation &copy; 2025~2026</p>
					</footer>
				</div>
			</main>
		</div>

		<script>
			const { createApp, ref, reactive, computed } = Vue;

			createApp({
				setup() {
					const expandedEndpoints = reactive({});
					const copyFeedback = reactive({});

					const navSections = [
						{
							title: 'Quick Start',
							items: [{ href: '#introduction', text: 'Introduction' }]
						},
						{
							title: 'Configuration',
							items: [{ href: '#environment-variables', text: 'Environment Variables' }]
						},
						{
							title: 'Counter',
							items: [
								{ href: '#get-count', text: 'Get Counter' },
								{ href: '#increment-count', text: 'Increment Counter' },
								{ href: '#get-limit-count', text: 'Get Limit Count' },
								{ href: '#increment-limit-count', text: 'Increment Limit Count' },
								{ href: '#response-format', text: 'Response Format' }
							]
						}
					];

					const features = [
						{ icon: 'üöÄ', title: 'High Performance', desc: 'Built on Bun runtime and Elysia.js framework, providing excellent performance and low latency response.' },
						{ icon: 'üîó', title: 'Simple & Easy', desc: 'Clean RESTful API design, easy to integrate into any project.' },
						{ icon: 'üíæ', title: 'Persistent Storage', desc: 'MySQL database ensures counter data persistence and reliability.' }
					];

					const envGroups = [
						{
							title: 'Application Configuration',
							items: [
								{ name: 'APP_NAME', default: 'CountElysia', desc: 'Application name' },
								{ name: 'APP_PORT', default: '3000', desc: 'Application listening port' }
							]
						},
						{
							title: 'Database Configuration',
							items: [
								{ name: 'DB_USER', default: '-', desc: 'Database username' },
								{ name: 'DB_PASSWORD', default: '-', desc: 'Database password' },
								{ name: 'DB_HOST', default: 'localhost', desc: 'Database host address' },
								{ name: 'DB_PORT', default: '3306', desc: 'Database port' },
								{ name: 'DB_NAME', default: '-', desc: 'Database name' }
							]
						},
						{
							title: 'Rate Limit Configuration',
							items: [
								{ name: 'GET_RATE_LIMIT_MAX', default: '10', desc: 'GET request rate limit: maximum requests within time window' },
								{ name: 'POST_RATE_LIMIT_MAX', default: '1', desc: 'POST request rate limit: maximum requests within time window' },
								{ name: 'GET_RATE_LIMIT_DURATION', default: '60000', desc: 'GET request rate limit: time window duration (milliseconds)' },
								{ name: 'POST_RATE_LIMIT_DURATION', default: '60000', desc: 'POST request rate limit: time window duration (milliseconds)' },
								{ name: 'LIMIT_COUNT_RATE_LIMIT_MAX', default: '5', desc: 'Limit count endpoint rate limit: maximum requests within time window' },
								{ name: 'LIMIT_COUNT_RATE_LIMIT_DURATION', default: '60000', desc: 'Limit count endpoint rate limit: time window duration (milliseconds)' }
							]
						}
					];

					const endpoints = reactive([
						{
							id: 'get-count',
							title: 'Get Counter',
							description: 'Get the current value of a counter with the specified name. If the counter does not exist, it will be automatically created and return the initial value 0.',
							detail: 'This endpoint is used to get the current value of a counter with the specified name. If the counter does not exist, the system will automatically create the counter and initialize it to 0.',
							method: 'GET',
							path: '/api/count/:name',
							params: [
								{ name: 'name', type: 'string', required: true, desc: 'Unique identifier name of the counter' }
							],
							requestExample: 'curl -X GET http://localhost:3000/api/count/my-counter',
							responseExample: `{
  "success": true,
  "message": "Query success",
  "data": {
    "name": "my-counter",
    "count": 5
  }
}`,
							inputs: [
								{ id: 'get-name', label: 'Counter Name (name)', value: ref('my-counter'), placeholder: 'Enter counter name' }
							],
							loading: ref(false),
							response: ref(null),
							apiMethod: 'GET',
							apiPath: '/api/count/'
						},
						{
							id: 'increment-count',
							title: 'Increment Counter',
							description: 'Increment the counter with the specified name by 1 and return the new count value. If the counter does not exist, it will be automatically created and initialized to 1.',

							detail: 'This endpoint is used to increment the counter with the specified name by 1. This is an idempotent operation, and calling it multiple times will continuously increase the counter value.',
							method: 'POST',
							path: '/api/count/:name',
							params: [
								{ name: 'name', type: 'string', required: true, desc: 'Unique identifier name of the counter' }
							],
							requestExample: 'curl -X POST http://localhost:3000/api/count/my-counter',
							responseExample: `{
  "success": true,
  "message": "Increment success",
  "data": {
    "name": "my-counter",
    "count": 6
  }
}`,
							inputs: [
								{ id: 'post-name', label: 'Counter Name (name)', value: ref('my-counter'), placeholder: 'Enter counter name' }
							],
							loading: ref(false),
							response: ref(null),
							apiMethod: 'POST',
							apiPath: '/api/count/'
						},
						{
							id: 'get-limit-count',
							title: 'Get Limit Count',
							description: 'Get limit count information for the specified ID and check if the user has incremented.',
							detail: 'This endpoint is used to get limit count information for the specified ID. You can provide the fingerprint parameter to check if a specific user has incremented.',
							method: 'GET',
							path: '/api/limit-count/:id',
							params: [
								{ name: 'id', type: 'string', required: true, desc: 'Unique identifier of the counter (UUID format)' }
							],
							requestExample: 'curl -X GET "http://localhost:3000/api/limit-count/550e8400-e29b-41d4-a716-446655440000?fingerprint=abc123..."',
							responseExample: `{
  "success": true,
  "message": "Query success",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "fingerprint": "abc123...",
    "hasIncremented": true
  }
}`,
							inputs: [
								{ id: 'get-limit-id', label: 'Counter ID (id)', value: ref('550e8400-e29b-41d4-a716-446655440000'), placeholder: 'Enter counter ID (UUID)' },
								{ id: 'get-limit-fingerprint', label: 'User Fingerprint (fingerprint) - Optional', value: ref(''), placeholder: 'Enter user fingerprint (32 characters)' }
							],
							loading: ref(false),
							response: ref(null),
							apiMethod: 'GET',
							apiPath: '/api/limit-count/',
							hasQueryParam: 'fingerprint'
						},
						{
							id: 'increment-limit-count',
							title: 'Increment Limit Count',
							description: 'Increment the limit count for the specified ID by 1. Each ID can only be incremented once, and only by the user corresponding to the fingerprint that created it.',
							detail: 'This endpoint is used to increment the limit count for the specified ID by 1. If the counter does not exist, a new one will be created. If it already exists and the fingerprint does not match, an error is returned.',
							method: 'POST',
							path: '/api/limit-count/:id',
							params: [
								{ name: 'id', type: 'string', required: true, desc: 'Unique identifier of the counter (UUID format)' }
							],
							bodyParams: [
								{ name: 'fingerprint', type: 'string', required: true, desc: 'User fingerprint, 32 characters, generated by @fingerprintjs/fingerprintjs' }
							],
							requestExample: `curl -X POST http://localhost:3000/api/limit-count/550e8400-e29b-41d4-a716-446655440000 \
  -H "Content-Type: application/json" \
  -d '{"fingerprint": "abc123..."}'`,
							responseExample: `{
  "success": true,
  "message": "Increment success",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "fingerprint": "abc123..."
  }
}`,
							inputs: [
								{ id: 'post-limit-id', label: 'Counter ID (id)', value: ref('550e8400-e29b-41d4-a716-446655440000'), placeholder: 'Enter counter ID (UUID)' },
								{ id: 'post-limit-fingerprint', label: 'User Fingerprint (fingerprint)', value: ref(''), placeholder: 'Enter user fingerprint (32 characters)' }
							],
							loading: ref(false),
							response: ref(null),
							apiMethod: 'POST',
							apiPath: '/api/limit-count/',
							hasBody: true,
							bodyField: 'fingerprint'
						}
					]);

					const successResponseExample = `{
  "success": true,
  "message": "Query success",
  "data": {
    "name": "my-counter",
    "count": 5
  }
}`;

					const errorResponseExample = `{
  "success": false,
  "message": "Internal Server Error"
}`;

					const responseFields = [
						{ name: 'success', type: 'boolean', desc: 'Indicates whether the request was successful' },
						{ name: 'message', type: 'string', desc: 'Response message providing additional information' },
						{ name: 'data', type: 'object', desc: 'Response data containing counter information' }
					];

					const statusCodes = [
						{ code: '200 OK', desc: 'Request successful, returns expected data', colorClass: 'bg-emerald-100 text-emerald-700' },
						{ code: '400 Bad Request', desc: 'Client error, usually caused by invalid request parameters', colorClass: 'bg-amber-100 text-amber-700' },
						{ code: '500 Internal Server Error', desc: 'Server error, please try again later', colorClass: 'bg-red-100 text-red-700' }
					];

					const toggleEndpoint = (id) => {
						expandedEndpoints[id] = !expandedEndpoints[id];
					};

					const copyCode = async (event, code) => {
						try {
							await navigator.clipboard.writeText(code);
							const button = event.target;
							const originalText = button.textContent;
							button.textContent = 'Copied!';
							button.classList.add('text-indigo-400');

							setTimeout(() => {
								button.textContent = originalText;
								button.classList.remove('text-indigo-400');
							}, 2000);
						} catch (err) {
							console.error('Failed to copy:', err);
						}
					};

					const executeRequest = async (endpoint) => {
						const nameInput = endpoint.inputs.find(i => i.id.includes('-name') && !i.id.includes('limit'));
						const idInput = endpoint.inputs.find(i => i.id.includes('-id'));
						const fingerprintInput = endpoint.inputs.find(i => i.id.includes('fingerprint'));

						let idOrName = '';
						if (nameInput) {
							idOrName = nameInput.value.value?.trim();
							if (!idOrName) {
								alert('Please enter counter name');
								return;
							}
						} else if (idInput) {
							idOrName = idInput.value.value?.trim();
							if (!idOrName) {
								alert('Please enter counter ID');
								return;
							}
						}

						const fingerprint = fingerprintInput?.value.value?.trim();

						if (endpoint.hasBody && !fingerprint) {
							alert('Please enter user fingerprint');
							return;
						}

						endpoint.loading.value = true;

						try {
							let url;
							if (endpoint.hasQueryParam && fingerprint) {
								url = new URL(`${endpoint.apiPath}${encodeURIComponent(idOrName)}?fingerprint=${encodeURIComponent(fingerprint)}`, window.location.origin);
							} else if (endpoint.hasQueryParam) {
								url = new URL(`${endpoint.apiPath}${encodeURIComponent(idOrName)}`, window.location.origin);
							} else {
								url = `${endpoint.apiPath}${encodeURIComponent(idOrName)}`;
							}

							const options = {
								method: endpoint.apiMethod,
								headers: { 'Content-Type': 'application/json' }
							};

							if (endpoint.hasBody) {
								options.body = JSON.stringify({ fingerprint });
							}

							const response = await fetch(url, options);
							const data = await response.json();

							endpoint.response.value = {
								ok: response.ok,
								status: response.status,
								statusText: response.statusText,
								data: JSON.stringify(data, null, 2)
							};
						} catch (error) {
							endpoint.response.value = {
								ok: false,
								status: 'Request failed',
								statusText: '',
								data: JSON.stringify({ error: error.message }, null, 2)
							};
						} finally {
							endpoint.loading.value = false;
						}
					};

					return {
						navSections,
						features,
						envGroups,
						endpoints,
						expandedEndpoints,
						successResponseExample,
						errorResponseExample,
						responseFields,
						statusCodes,
						toggleEndpoint,
						copyCode,
						executeRequest
					};
				}
			}).mount('#app');
		</script>
	</body>
</html>
